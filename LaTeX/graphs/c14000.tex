\centerline{
\begin{tikzpicture}
%\begin{semilogyaxis}[
\begin{axis}[
    %title={Time and accuracy of different SVM settings with n=14000},
    width=1.3\textwidth,
    height=.22\textheight,
    ymin=0, ymax=30000,
    %xmin=0,xmax=21,
	xtick={0,...,21},
	xticklabels={
		%linear,poly:d=2,poly:d=3,poly:d=4,poly:d=5,poly:d=6,poly:d=7,poly:d=8,poly:d=9,rbf:$\gamma$=0.0,rbf:$\gamma$=0.1,rbf:$\gamma$=0.2,rbf:$\gamma$=0.3,rbf:$\gamma$=0.4,rbf:$\gamma$=0.5,rbf:$\gamma$=0.6,rbf:$\gamma$=0.7,rbf:$\gamma$=0.8,rbf:$\gamma$=0.9,rbf:$\gamma$=1.0,
        linear,$\,$,d=2,d=3,d=4,d=5,d=6,d=7,d=8,d=9,$\,$,
        $\gamma$=0.0,$\gamma$=0.1,$\gamma$=0.2,$\gamma$=0.3,$\gamma$=0.4,$\gamma$=0.5,$\gamma$=0.6,
        $\gamma$=0.7,$\gamma$=0.8,$\gamma$=0.9,$\gamma$=1.0,
	},
	x tick label style={rotate=30, anchor=north east, inner sep=0mm},
	xlabel={\hspace{1cm}${\underbrace{\text{\hspace{5cm}}}\atop\text{polynomial}}$\hspace{0.4cm}${\underbrace{\text{\hspace{7cm}}}\atop\text{rbf}}$},
	xlabel style={at={(0.5,-0.03)}},
	ylabel=Time (sec),
	axis y line*=right,
	enlargelimits=0.05,
	%legend style={at={(0.5,2.2)},anchor=north,legend columns=-1},
	ybar stacked,
	ylabel near ticks,
	scale ticks above exponent={5}
]
\addplot[color=orange!80,fill=orange!80]
	coordinates {
	(0,74.6) (2,1124.4) (3,2068.0) (4,3331.6) (5,4678.5) (6,5198.9) (7,5282.2) (8,5193.3) (9,5083.9) (11,586.3) (12,24560.3) (13,25139.6) (14,25104.7) (15,25389.9) (16,24877.4) (17,26216.1) (18,25266.2) (19,26166.7) (20,18654.6) (21,16250.9)
    };
\addplot[color=purple!70,fill=purple!70]
    coordinates {
    (0,8.4) (2,155.7) (3,277.0) (4,459.8) (5,646.8) (6,696.6) (7,706.6) (8,719.4) (9,714.2) (11,86.2) (12,1067.4) (13,1069.5) (14,1059.1) (15,1052.6) (16,1055.4) (17,1062.9) (18,618.3) (19,1072.2) (20,607.0) (21,399.1)
    };
%\end{semilogyaxis}
\end{axis}
\begin{axis}[
    width=1.3\textwidth,
    height=.22\textheight,
    ymin=0,ymax=1,
   % xmin=0,xmax=21,
    x tick label style={color=white},
	ylabel={Accuracy ($\frac{correct}{total}$)},
	axis y line*=left,
	enlargelimits=0.05,
	legend style={at={(0.5,-0.5)},
	anchor=north,legend columns=-1},
	ylabel near ticks,
	ymajorgrids=true,
	xmajorgrids=false,
    grid style=dashed,
]
\addlegendimage{blue, mark=*}
\addlegendimage{only marks, orange!80, mark=square*}
\addlegendimage{only marks, purple!70, mark=square*}
\legend{Accuracy, Train time, Test time}
\addplot[mark=*,blue,jump mark mid]
	coordinates {
	(-1,-10) (0,0.999) (1,-10) (2,0.978) (3,0.964) (4,0.862) (5,0.741) (6,0.606) (7,0.578)
    (8,0.569) (9,0.561) (10,-10) (11,0.991) (12,0.597) (13,0.559) (14,0.554)
    (15,0.554) (16,0.554) (17,0.554) (18,0.554) (19,0.554) (20,0.554)
    (21,0.553) (22,-10)
    };
\end{axis}
\end{tikzpicture}
}